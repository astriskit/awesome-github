(this["webpackJsonpawesome-github"]=this["webpackJsonpawesome-github"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/spinner.5134db46.gif"},34:function(e,t,a){e.exports=a(68)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o),i=a(8),l=(a(39),a(1)),s=Object(n.createContext)({items:[],addItem:function(){},removeItem:function(){},hasItem:function(){}}),u=a(33),m=(a(40),function(e){var t=e.repos,a=void 0===t?[]:t,n=e.iterator,o=e.iteratorProps,c=void 0===o?{}:o;return r.a.createElement("ul",{"data-testid":"repos-list",className:"repos-list"},a.map((function(e){var t=e.href,a=e.title,o=e.name;return r.a.createElement("li",{key:t},n&&"function"===typeof n?n(Object(u.a)({href:t,title:a,name:o},c)):r.a.createElement("a",{title:a,href:t,target:"_blank",rel:"noopener noreferrer"},o||a))})))}),d=function(){return r.a.createElement("div",{className:"no-repos"},"No repositories found")},f=function(e){var t=e.name,a=e.title,n=e.href,o=e.onAdd,c=e.isAdded,i=e.onRemove,l=c&&o&&!c(n),s=c&&i&&c(n);return r.a.createElement("div",{className:"flex center",style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"x-large"}},t||a)),r.a.createElement("div",null,s&&r.a.createElement("button",{onClick:function(){i(n)},className:"secondary danger"},"-"),l&&r.a.createElement("button",{onClick:function(){o({name:t,href:n,title:t})},className:"secondary success"},"+")))},p=(a(41),function(){var e=Object(n.useContext)(s),t=e.items,a=e.removeItem,o=e.hasItem;return r.a.createElement("div",{"data-testid":"repo-list-container",className:"repo-list-container"},t.length?r.a.createElement(m,{repos:t,iteratorProps:{onRemove:a,isAdded:o},iterator:f}):r.a.createElement(d,null))}),v=function(){return r.a.createElement("div",{"data-testid":"app-home"},r.a.createElement(i.b,{"data-testid":"add-repo",to:"/add-repo",className:"link"},"+ Add"),r.a.createElement(p,null))},h=function(){return r.a.createElement(i.b,{"data-testid":"list-repos",to:"/",className:"link"},"Home")},b=a(7),E=a(30),g=a.n(E),y=function(){return r.a.createElement("div",{"data-testid":"loader"},r.a.createElement("img",{alt:"Loading",src:g.a}))},O=(a(47),function(e){var t=e.onFind,a=void 0===t?function(){}:t,o=e.loading,c=void 0!==o&&o,i=Object(n.useState)(""),l=Object(b.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)("by-repo"),d=Object(b.a)(m,2),f=d[0],p=d[1],v=function(e){var t=e.target.value;p(t)};return r.a.createElement("div",{className:"flex column center search-repo-container"},r.a.createElement("input",{type:"text",placeholder:"Type to search","data-testid":"search-repo",value:s,onChange:function(e){var t=e.target.value;u(t)}}),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"search-by",value:"by-repo","data-testid":"search-by-repo",onChange:v,checked:"by-repo"===f}),r.a.createElement("span",null,"Repo-name")),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"search-by",value:"by-user","data-testid":"search-by-user",onChange:v,checked:"by-user"===f}),r.a.createElement("span",null,"Username"))),r.a.createElement("button",{"data-testid":"btn-search",disabled:c,onClick:function(){s&&f?a(f,s):window.alert("Nothing to find!")},className:"secondary",style:{minWidth:"5rem"}},"Find"),c&&r.a.createElement(y,null))}),j=(a(48),function(e){var t=e.message,a=void 0===t?"":t;return r.a.createElement("div",{className:"error"},'Error: "',a,'"')}),k=a(16),N=a.n(k),S=a(31),x=a(32),w=a.n(x),I=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({query:"",op:""}),c=Object(b.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)([]),u=Object(b.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(""),p=Object(b.a)(f,2),v=p[0],h=p[1];Object(n.useEffect)((function(){a&&Object(S.a)(N.a.mark((function e(){var t,a,n,o,c,s,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=i.op,a=i.query,n="".concat("https://api.github.com/search/repositories","?q="),n+="by-user"===t?"user:".concat(a):a,n+="+is:public",e.next=7,w.a.get(n,{headers:{Accept:"application/vnd.github.v3+json"}});case 7:o=e.sent,d(o.data.items.map((function(e){var t=e.html_url,a=e.name;return{href:t,name:a,title:a}}))),h(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),h(null!==(c=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.message)&&void 0!==c?c:e.t0.message);case 15:return e.prev=15,r(!1),l({query:"",op:""}),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[0,12,15,19]])})))()}),[a,i]);return{data:m,error:v,loading:a,handleSearch:function(e,t){l({op:e,query:t}),r(!0)}}}(),t=e.loading,a=e.handleSearch,o=e.data,c=e.error,i=Object(n.useContext)(s),l=i.addItem,u=i.removeItem,p=i.hasItem;return r.a.createElement("div",{"data-testid":"app-add-repo",className:"add-repo"},r.a.createElement(h,null),r.a.createElement(O,{onFind:a,loading:t}),!t&&r.a.createElement("div",{className:"flex center"},c?r.a.createElement(j,{message:c}):o.length?r.a.createElement(m,{repos:o,iterator:f,iteratorProps:{onAdd:function(e){return l(e)},isAdded:p,onRemove:u}}):r.a.createElement(d,null)))},C=function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{className:"content",style:{fontSize:"xx-large"}},"Page not found!"))},A=a(17),P=console,J=(a(67),function(){return r.a.createElement("main",{"data-testid":"app"},r.a.createElement("header",{className:"banner"},"Github Bookmark Manager"),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/add-repo",component:I}),r.a.createElement(l.a,{exact:!0,path:"/",component:v}),r.a.createElement(l.a,{component:C})))});var q=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(n.useState)((function(){if(e&&Array.isArray(e))return e;try{var t=localStorage.getItem("bookmarks");return t?JSON.parse(t):[]}catch(a){return localStorage.removeItem("bookmarks"),P.error("Possibly invalid JSON; Emptied store!"),[]}})),a=Object(b.a)(t,2),r=a[0],o=void 0===r?[]:r,c=a[1];Object(n.useEffect)((function(){try{var e=JSON.stringify(o);localStorage.setItem("bookmarks",e)}catch(t){c([]),P.error("Possibly invalid JSON; Emptied store!")}}),[o]);var i=function(e){var t=o.filter((function(t){return t.href!==e}));c(t)},l=function(e){c([].concat(Object(A.a)(o),[e]))},s=function(e){return o.find((function(t){var a=t.href;return e===a}))};return{addItem:l,get items(){return Object(A.a)(o)},removeItem:i,hasItem:s}}(e.initial);return r.a.createElement(s.Provider,{value:t},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.19cd453e.chunk.js.map